<!doctype html>
<html>
  <head>
    <title>Toggl Button - Settings</title>
    <link rel="stylesheet" href="../styles/settings.css"/>
  </head>
  <body data-show-review-banner="false">
    <nav>
      <div class="logo">
        <svg width="75" height="23" viewBox="0 0 75 23" class="css-qwtvmz">
          <g fill="none">
            <path d="M28.9 10.1c-1.1 0-1.8-.6-1.8-1.4 0-.9.7-1.4 2-1.5V5.8c0-1.6.5-2.4 1.6-2.4s1.6.8 1.6 2.4v1.4h.3c1.3 0 2 .6 2 1.5s-.7 1.4-2 1.4h-.3v5.7c0 1.6-.5 2.3-1.6 2.3s-1.6-.7-1.6-2.3v-5.7h-.2zM40.1 15.3c1.2 0 2.1-1.1 2.1-2.8 0-1.6-.9-2.7-2.1-2.7-1.2 0-2.1 1-2.1 2.7 0 1.7.9 2.8 2.1 2.8m0-8.5c3.2 0 5.4 2.4 5.4 5.7 0 3.4-2.2 5.8-5.4 5.8s-5.5-2.4-5.5-5.8c0-3.3 2.3-5.7 5.5-5.7M52 15.3c1.2 0 2.1-1.1 2.1-2.8 0-1.6-.9-2.6-2.1-2.6-1.2 0-2.1 1-2.1 2.6 0 1.7.9 2.8 2.1 2.8m-.8 2.9c-2.5 0-4.7-2.4-4.7-5.7 0-3.2 2.3-5.7 5-5.7 1.2 0 2 .4 2.6 1.2.4-.7 1-1.1 1.5-1.1 1.1 0 1.6.8 1.6 2.4v6.5c0 1.9-.1 3.4-.8 4.5-.9 1.5-2.6 2.4-4.9 2.4-3 0-4.7-1.1-4.7-2.4 0-.8.6-1.4 1.4-1.4.8 0 1.7.9 3.4.9 1.6 0 2.6-1 2.6-2.8 0-.1-.1-.2-.1-.4-.7 1.1-1.6 1.6-2.9 1.6M64.2 15.3c1.2 0 2.2-1.1 2.2-2.8 0-1.6-1-2.6-2.2-2.6-1.2 0-2.1 1-2.1 2.6 0 1.7.9 2.8 2.1 2.8m-.7 2.9c-2.6 0-4.7-2.4-4.7-5.7 0-3.2 2.3-5.7 5-5.7 1.1 0 1.9.4 2.6 1.2.4-.7.9-1.1 1.4-1.1 1.1 0 1.7.8 1.7 2.4v6.5c0 1.9-.2 3.4-.8 4.5-.9 1.5-2.6 2.4-4.9 2.4-3 0-4.8-1.1-4.8-2.4 0-.8.6-1.4 1.4-1.4.8 0 1.8.9 3.5.9 1.6 0 2.5-1 2.5-2.8v-.4c-.7 1.1-1.7 1.6-2.9 1.6M73.4 2.3c1.1 0 1.6.8 1.6 2.4v11.1c0 1.6-.5 2.3-1.6 2.3s-1.6-.7-1.6-2.3V4.7c0-1.6.5-2.4 1.6-2.4" fill="#ffffff"></path>
            <circle cx="11.5" cy="11.5" r="8.5" fill="#ffffff"></circle>
            <path d="M11.1 17c-3 0-5.4-2.5-5.4-5.5 0-2.5 1.7-4.6 4-5.2v1.6c-1.5.5-2.5 2-2.5 3.6 0 2.2 1.7 4 3.9 4s4-1.8 4-4c0-1.6-1.1-3.1-2.5-3.6V6.3c2.3.6 4 2.7 4 5.2 0 3-2.5 5.5-5.5 5.5zm-.8-12.5h1.6v7.7h-1.6V4.5zm.8-4.4C5 .1 0 5.1 0 11.3c0 6.1 5 11.1 11.1 11.1 6.2 0 11.1-5 11.1-11.1C22.2 5.1 17.3.1 11.1.1z" fill="#e20505"></path>
          </g>
        </svg>
      </div>
      <div class="section">
        <h3>Button Settings</h3>
        <ul class="nav-links">
          <li class="nav-link" data-tab="general">
            <div class="nav-icon">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <path d="M8 11a3 3 0 100-6 3 3 0 000 6zM5.182 2.702c.337-.18.693-.328 1.065-.442L6.778.666C6.9.299 7.313 0 7.7 0h.6c.387 0 .8.298.922.666l.531 1.594c.372.114.728.262 1.065.442l1.504-.752c.346-.173.85-.093 1.122.18l.425.426c.274.273.354.775.181 1.122l-.752 1.504c.18.337.328.693.442 1.065l1.594.531c.367.122.666.535.666.922v.6c0 .387-.298.8-.666.922l-1.594.531a5.963 5.963 0 01-.442 1.065l.752 1.504c.173.346.093.85-.18 1.122l-.426.425c-.273.274-.775.354-1.122.181l-1.504-.752c-.337.18-.693.328-1.065.442l-.531 1.594C9.1 15.701 8.687 16 8.3 16h-.6c-.388 0-.8-.298-.922-.666l-.531-1.594a5.963 5.963 0 01-1.065-.442l-1.504.752c-.346.173-.85.093-1.122-.18l-.425-.426c-.274-.273-.354-.775-.181-1.122l.752-1.504a5.963 5.963 0 01-.442-1.065L.666 9.222C.299 9.1 0 8.687 0 8.3v-.6c0-.388.298-.8.666-.922l1.594-.531c.114-.372.262-.728.442-1.065L1.95 3.678c-.173-.346-.093-.85.18-1.122l.426-.425c.273-.274.775-.354 1.122-.181l1.504.752z" fill="#ffffff" fill-rule="evenodd"></path>
              </svg>
            </div>
            <span>General</span>
          </li>
          <li class="nav-link" data-tab="pomodoro">
            <div class="nav-icon">
              <svg width="16" height="16" viewBox="0 0 18 18">
                <path d="M8.001 8.948L8 9c0 .556.448 1 1 1h3c.556 0 1-.448 1-1 0-.556-.448-1-1-1h-2V4.003a1 1 0 10-2 0v4.894l.001.051zM9 18A9 9 0 109 0a9 9 0 000 18z" fill="#ffffff" fill-rule="evenodd"></path>
              </svg>
            </div>
            <span>Pomodoro Timer</span>
          </li>
          <li class="nav-link" data-tab="integrations">
            <div class="nav-icon">
              <svg width="16" height="17" viewBox="0 0 16 17">
                <path fill="#ffffff" fill-rule="evenodd" d="M9 13v-2H7v2H5.99c-.539 0-.721.358-.39.8l1.8 2.4c.334.445.869.442 1.2 0l1.8-2.4c.334-.445.156-.8-.39-.8H9zM7 9v2h2V9h1.01c.546 0 .724-.355.39-.8L8.6 5.8c-.331-.442-.866-.445-1.2 0L5.6 8.2c-.331.442-.149.8.39.8H7zm5-4.965a3.5 3.5 0 110 6.93V11H3.5A3.5 3.5 0 114 4.035V4a4 4 0 118 .035z"></path>
              </svg>
            </div>
            <span>Integrations</span>
          </li>
          <li class="nav-link" data-tab="telemetry">
            <div class="nav-icon">
              <svg width="16" height="12" viewBox="0 0 16 12">
                <path d="M0 2.009C0 .899.895 0 1.994 0h12.012C15.107 0 16 .902 16 2.009V9.99c0 1.11-.895 2.009-1.994 2.009H1.994A2.003 2.003 0 010 9.991V2.01zm6.106 8.438c.415.83 1.639.696 1.864-.204l1.25-5 .852 2.128a1 1 0 001.635.336l2-2a1 1 0 10-1.414-1.414l-.928.928-1.437-3.592c-.36-.901-1.663-.813-1.898.128L6.685 7.135l-.79-1.582a1 1 0 00-1.602-.26l-2 2a1 1 0 101.414 1.414l1.019-1.019 1.38 2.76z" fill="#ffffff" fill-rule="evenodd"></path>
              </svg>
            </div>
            <span>Telemetry</span>
          </li>
          <li class="nav-link" data-tab="account">
            <div class="nav-icon">
              <svg width="18" height="18" viewBox="0 0 16 18">
                <path d="M0 2.993A2.994 2.994 0 013.01 0h9.98C14.654 0 16 1.353 16 2.993v12.014A2.994 2.994 0 0112.99 18H3.01C1.346 18 0 16.647 0 15.007V2.993zM6.5 9.5c0 1.5-3.5 1-3.5 4 0 1 0 0 0 0A1.5 1.5 0 004.497 15h7.006C12.33 15 13 14.323 13 13.5c0 0 0 1 0 0 0-3-3.5-2.5-3.5-4C9.5 8.5 11 8 11 6c0-1.5-1.343-3-3-3S5 4.5 5 6c0 2 1.5 2.5 1.5 3.5z" fill="#ffffff" fill-rule="evenodd"></path>
              </svg>
            </div>
            <span>My Account</span>
          </li>
        </ul>
      </div>
      <div class="section">
        <h3>Button Help</h3>
        <ul>
          <li>
            <div class="nav-icon">
              <svg width="16" height="16" viewBox="0 0 18 18">
                <path d="M9 14.4l-3.6 2.4c-1.8 1.3-2.7.6-2-1.5l1.4-4.2-3.6-2.7C-.6 7.1-.2 6 2 6h4.6l1.3-4.2c.6-2.1 1.6-2.1 2.2 0L11.4 6H16c2.2 0 2.6 1.1.8 2.4l-3.6 2.7 1.4 4.2c.7 2.1-.2 2.8-2 1.5L9 14.4z" fill="#ffffff"></path>
              </svg>
            </div>
            <span>Quick Start</span>
          </li>
          <li>
            <div class="nav-icon">
              <svg width="16" height="16" viewBox="0 0 16 16">
                <path fill="#ffffff" fill-rule="evenodd" d="M8 16A8 8 0 118 0a8 8 0 010 16zm0-3a1 1 0 100-2 1 1 0 000 2zm0-8c.683 0 1.068.57.955 1.1-.077.362-.2.53-.623.908l-.052.046c-.83.741-1.202 1.316-1.278 2.416a1 1 0 101.996.138c.032-.476.135-.634.613-1.061l.053-.048c.711-.634 1.062-1.113 1.247-1.982A2.914 2.914 0 008 3c-1.572 0-2.501.84-3.057 2.145a1 1 0 001.84.784C7.057 5.285 7.373 5 8 5z"></path>
              </svg>
            </div>
            <span>User Guide</span>
          </li>
        </ul>
      </div>
    </nav>
    <div class="content">
      <header>
        <h2 id="title">
          Toggl Button
        </h2>
      </header>
      <div class="container">
        <div class="guide-container">
          <div class="guide-back">
          </div>
          <div class="guide">

            <div data-id="0">
              <b>Welcome to Toggl Button!</b>
              <p><i>This Permissions settings tab allows to enable/disable integrations and define custom domains.</i>
              </p>
              <p>
                You can enable all integrations you want to use with the Toggl Button by clicking the "Enable all" button under "URL Permissions". Also you can pick the tools you want by ticking the checkboxes.
              </p>
              <p>You can also define custom domains in the "Custom Domain URL Permissions" section of the page. Just type in the domain address, select the tool you are running on it and press "Add".</p>
              <p>The telemetry settings tab allows you to control sending usage metrics and error reports to help make Toggl Button better.</p>
            </div>

            <div data-id="1">
              <b>Welcome to Toggl Button!</b>
              <p><i>The Permissions tab allows you to enable/disable integrations and define custom domains.</i></p>
              <p>
                You can enable/disable all tools you by clicking the buttons on top of the list. Also you can pick the tools you want by ticking the checkbox in front of them.
              </p>
              <p>You can also define custom domains in the "Custom Domain URL Permissions" section of the page. Just type in the domain address, select the tool you are running on that domain and press "Add"</p>
            </div>

            <div data-id="2">
              <b>Enable integrations!</b>
              <p>Hey Toggler! We have a ton of integrations that make your time tracking life easier, faster &amp; way more convenient.</p>
              <p>To use them, check off any integrations you'd like to enable under "URL Permissions" -- or click enable all.</p>
              <p>You can also define custom domains on the second part of the page. Type in an address, select the tool and press "Add".</p>
            </div>

            <input type="checkbox" id="disable-permission-notice">
            <label for="disable-permission-notice">Don't show this notification again</label>
            <br>
            <br>
            <button>Close</button>
          </div>
        </div>
        <div class="tabs">
          <div class="tab" data-tab="general">
            <section>
              <div class="headline">
                <h3>Projects</h3>
              </div>
              <div class="field">
                <label for="default-project">
                  <span class="setting">Default Project</span>
                  <span class="description">The default project will be selected when timer is started with no matched project</span>
                </label>
                <div id="default-project-container"></div>
              </div>

              <div class="field">
                <label for="remember-project-per">
                  <span class="option">Remember last chosen project</span>
                  <span class="description">Remembers the last project you used on each integration or URL. Overrides the default project.</span>
                </label>         
                <select id="remember-project-per">
                  <option value="false">Use global default</option>
                  <option value="service">Service</option>
                  <option value="url">URL</option>
                </select>
              </div>
            </section>

            <section>
              <div class="headline">
                <span class="option">Starting and stopping the timer</span>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="start_automatically">
                <label for="start_automatically">
                  <span class="option">Start timer automatically</span>
                  <span class="description">Starts the timer with the most recent task when the browser is opened</span>
                </label>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="stop_automatically">
                <label for="stop_automatically">
                  <span class="option">Stop timer automatically</span>                  
                  <span class="description">Stops the timer when the browser is closed</span>
                </label>
              </div>

              <div class="checkbox field stop-at-day-end">
                <input type="checkbox" id="stop-at-day-end">
                <label for="stop-at-day-end">
                  <span class="option">Stop timer automatically at the end of the day</span>
                  <span class="description">The timer will be stopped automatically when your day ends</span>
                </label>
                <div class="subsettings-detail">
                  <div class="subsettings-details">
                    <label for="day-end-time">End of day time:</label>
                    <input type="time" id="day-end-time">
                  </div>
                </div>
              </div>
            </section>

            <section>
              <div class="headline">
                <h3>Reminders and idle detection</h3>
              </div>
              <div class="checkbox field nag-nanny">
                <input type="checkbox" id="nag-nanny">
                <label for="nag-nanny">
                  <span class="option">Remind me to track time</span>
                  <span class="description">Receive a notification if you forget to track time during work hours</span>
                </label>
                <div class="subsettings-details">
                    On weekdays from <input type="time" id="nag-nanny-from"> to <input type="time" id="nag-nanny-to">&nbsp;, after <input type="number" id="nag-nanny-interval" min="1"> minutes since the last time entry was stopped.
                </div>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="idle-detection">
                <label for="discard-notification">
                  <span class="option">Idle detection</span>
                  <span class="description">Receive a notification when you've been idle and the timer was running, allowing you to discard the time.</span>
                </label>
              </div>
            </section>

            <section>
              <div class="headline">
                <h3>Other settings</h3>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="enable-auto-tagging">
                <label for="enable-auto-tagging">
                <span class="option">Enable automatic tagging</span>
                <span class="description">If an integration supports tags or labels, automatically add them to the timer and
                  create them in Toggl. Not available in all integrations.</span>
                </label>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="show_post_start_popup">
                  <label for="show_post_start_popup">
                    <span class="option">Show post-start popup,</span>
                  <span class="description">Opens the edit form immediately after clicking a "Start timer" link.</span>
                </label>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="show_right_click_button">
                <label for="show_right_click_button">
                  <span class="option">Show "Start timer" item in right click menu</span>
                  <span class="description">Makes it super easy to start a timer with any highlighted text. If you highlight text on the page, you can start a timer for it in the right-click menu. If nothing is selected, page title is used as the description.</span>
                </label>
              </div>
            </section>

            <section>
              <div class="headline">
                <h3>Reset all settings</h3>
              </div>

              <div class="field">
                <label for="reset-all-settings">
                  <span class="option">This action is irreversible.</span>
                  <span class="description">All Toggl Button settings will be reset and you will be logged out.</span>
                </label>
                <button id="reset-all-settings" class="danger">Reset all settings to default</button>
              </div>
            </section>
          </div>

          <div class="tab" data-tab="pomodoro">
            <section>

              <div class="headline">
                <h3>Pomodoro settings</h3>
              </div>

              <div class="checkbox field pomodoro-mode">
                <input type="checkbox" id="pomodoro-mode">
                <label for="pomodoro-mode">
                  <span class="option">Enable Pomodoro Timer</span>
                  <span class="description">A Pomodoro timer is started when you start a time entry. At the end of the Pomodoro interval, you will receive a notification to take a break.</span>
                </label>
              </div>

              <div class="field">                
                <label for="pomodoro-interval">
                  <span class="option">Pomodoro timer interval in minutes</span>
                </label>

                <input type="number" id="pomodoro-interval" min="1">
              </div>

              <div class="checkbox field">                
                <input type="checkbox" id="pomodoro-stop-time">
                <label for="pomodoro-stop-time">
                  <span class="option">Stop time tracking when pomodoro time ends</span>
                </label>
              </div>

              <div class="checkbox field pomodoro-sound">                
                <input type="checkbox" id="enable-sound-signal">
                <label for="enable-sound-signal">
                  <span class="option">Enable sound notification at the end of an interval</span>
                </label>
              </div>

              <div class="field pomodoro-sound-volume">                
                <input type="range" id="sound-volume">
                <label for="sound-volume">
                  <span class="option">Sound volume <span id="volume-label">100%</span></span></label>
              </div>

              <div class="checkbox field pomodoro-sound">                
                <input type="checkbox" id="enable-ticker-sound">
                <label for="enable-sound-signal"><span class="option">Enable ticking sound during focus period (beta)</span></label>
              </div>

              <div class="field pomodoro-sound-volume">                
                <input type="range" id="ticker-sound-volume">
                <label for="ticker-sound-volume">
                  <span class="option">Sound volume <span id="ticker-volume-label">100%</span></span></label>
                  <button id="ticker-sound-test">Test</button>
              </div>

            </section>
          </div>


          <div class="tab" data-tab="integrations">
            <section>

              <div class="headline">                
                <h3>Integrations</h3>
              </div>
              <p>Enable the tools you want to use with Toggl Button. You can enable everything by clicking the "Enable all" button.</p>

              <div class="permissions-toolbar" data-id="regular">
                <input type="text" id="permission-filter" placeholder="Filter permissions"/>
                <a href="javascript:void(0)" id="filter-clear">&times;</a>
                <div class="button-container">
                  <button class="enable-all">Enable all</button>
                  <button class="disable-all">Disable all</button>
                </div>
              </div>
              <div id="perm-container"></div>
            </section>

            <section class="section">

              <div class="headline">
                <h3>Custom Integrations</h3>
              </div>
              <p>If you use a tool hosted on a custom domain, you can enable it here. Enter the domain name in the format "toggl.com" and select the integration from the dropdown. <em>Ports are not supported.</em></p>
              <input type="text" id="new-permission" placeholder="Custom domain url"/>
              <div class="button-container">
                <div id="origins-container"></div>
                <button id="add-permission">Add</button>
              </div>
              <div class="permissions-toolbar" data-id="custom"></div>
              <div id="custom-perm-container"></div>

            </section>
          </div>

          <div class="tab" data-tab="telemetry">
            <section>
              <div class="headline">
                <h3>Telemetry</h3>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="isend-usage-statistics">
                <label for="send-usage-statistics">
                  <span class="option">Send usage statistics</span>
                  <span class="description">Help us understand how Toggl Button is used by sending usage statistics.</span>
                </label>
              </div>

              <div class="checkbox field">
                <input type="checkbox" id="send-error-reports">
                <label for="send-error-reports">
                  <span class="option">Send error reports</span>
                  <span class="description">Submit error reports to help us fix issues with Toggl Button.</span>
                </label>
              </div>

            </section>
          </div>

          <div class="tab" data-tab="account">
            <section>
              <div class="headline">
                <h3>Account settings</h3>
              </div>

              <div class="field">
                <label><span class="option">Logged in as</span></label>
                <div>
                  <span id="login-info"></span>
                </div>
              </div>

              <div class="field">
                <label>
                  <span class="option">Sync Toggl data</span>
                  <span class="description">Your latest projects, tags etc. will be loaded into Toggl Button.</span>
                </label>
                <div>
                  <button id="sync-data">Sync with Toggl</button>
                </div>
              </div>

              <div class="field">
                <label>
                  <span class="option">Log out of my Toggl Account</span>
                  <span class="description">You will be logged out of Toggl Button.</span>
                </label>
                <div>
                  <button id="log-out">Log Out</button>
                </div>
              </div>

            </section>
          </div>
        </div>

        <div class="footer">
          <div>Version <span id="version"></span></div>
          <div><a href="http://toggl.github.io/toggl-button">
            <svg height="24" width="24" viewBox="0 0 16 16" version="1.1" aria-hidden="true">
              <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
            </svg>
          </a></div>           
        </div>        
      </div>
    </div>
    <div id="review-prompt">
      <span>Enjoying Toggl Button?</span>
      <a target="_blank" rel="noopener noreferrer">
        <button>Leave us a review</button>
      </a>
      <span id="close-review-prompt">
        Close and don't ask again
      </span>
    </div>
    <script src="../scripts/settings.js"></script>
  </body>
</html>
